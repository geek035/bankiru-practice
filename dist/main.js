(()=>{"use strict";async function e(e,o,t){let n=document.createElement("article");n.classList.add("info-block"),n.innerHTML=`\n        <div class="info-block__banner">\n            <div class="info-block__text-field">\n                <img src="${o[t-1].logo}" />\n\n                <p class="text-box__paragraph \n                    text-box__paragraph_align_right">\n                    ${o[t-1].name}\n                </p>\n            </div>\n            <hr class="info-block__hover" color="#ECEFF1" size="3" />\n        </div>\n\n        <ul class="info-block__list">\n            <li class="info-block__text-field text-box__paragraph">\n                <p>Ставка, %</p>\n                <p class="text-box__paragraph_highlight\n                    text-box__paragraph_align_right">\n                    от ${o[t-1].rate}%\n                </p>\n            </li>\n\n            <li class="info-block__text-field text-box__paragraph">\n                <p>Срок</p>\n                <p class="text-box__paragraph_bold\n                    text-box__paragraph_align_right">\n                    ${o[t-1].period}.\n                </p>\n            </li>\n\n            <li class="info-block__text-field text-box__paragraph">\n                <p>Сумма</p>\n                <p class="text-box__paragraph_bold\n                    text-box__paragraph_align_right">\n                    30 000-${o[t-1].amount} &#8381;\n                </p>\n            </li>\n      </ul>\n\n      <a href="${o[t-1].url}" class="info-block__button">Открыть вклад</a>\n    `,e.append(n)}var o=[{id:1,name:"Депозит №1",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:2,name:"Депозит №2",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:3,name:"Депозит №3",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:4,name:"Депозит №4",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:5,name:"Депозит №5",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:6,name:"Депозит №6",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:7,name:"Депозит №7",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:8,name:"Депозит №8",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"},{id:9,name:"Депозит №9",logo:"../images/bank__logo.svg",rate:9.3,period:182,amount:1e7,url:"https://example.com"}];!async function(o){const t=document.querySelectorAll(".scroller");let n=0,l=0==o.length?-1:1;for(console.log(t),console.log(o);n<3&&-1!==l;)await e(t[n],o,l),l%4==0&&++n,l=l==o.length?-1:l+1}(o),document.querySelectorAll(".info-block__button").forEach((e=>{e.addEventListener("click",(e=>{console.log(e.target.parentNode.querySelector(".info-block__banner .text-box__paragraph").textContent)}))})),document.querySelector(".header .header__link").addEventListener("click",(e=>{document.querySelector(".input-form").classList.add("input-form_shown")})),document.querySelector(".input-form__exit-button").addEventListener("click",(e=>{document.querySelector(".input-form").className="input-form"})),document.querySelector(".input-form__send-button").addEventListener("click",(t=>{const n=document.querySelectorAll(".input-form__input-field");if(o.push({id:o.length+1,name:n[0].value,logo:n[1].value,rate:n[2].value,period:n[3].value,amount:n[4].value,url:n[5].value}),o.length>12)alert("Максимальное количество карточек на странице. Данные не отрисовались");else{const t=document.querySelectorAll(".scroller"),n=t[t.length-1];console.log(n),e(n,o,o.length)}})),document.querySelector(".info-block__button").addEventListener("click",(e=>{((e,o)=>new Promise(((t,n)=>{let l=0,a=[];!function e(o,r){new Promise(((e,t)=>{for(;l<r&&o.length;)a.push(fetch(o.pop())),++l;o.length?e():t()})).then((t=>{Promise.race(a).then((t=>{--l,e(o,r)}),(e=>{n(e)}))}),(e=>{t(a.reverse())}))}(e,o)})))(["https://jsonplaceholder.typicode.com/posts/1","https://jsonplaceholder.typicode.com/posts/2","https://jsonplaceholder.typicode.com/posts/3","https://jsonplaceholder.typicode.com/posts/4","https://jsonplaceholder.typicode.com/posts/5","https://jsonplaceholder.typicode.com/posts/6","https://jsonplaceholder.typicode.com/posts/7","https://jsonplaceholder.typicode.com/posts/8","https://jsonplaceholder.typicode.com/posts/9","https://jsonplaceholder.typicode.com/posts/10"],5).then(console.log)}))})();